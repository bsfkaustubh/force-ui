"use strict";(self.webpackChunk_bsf_force_ui=self.webpackChunk_bsf_force_ui||[]).push([[8836],{"./src/components/badge/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return _badge_jsx__WEBPACK_IMPORTED_MODULE_0__.A}});var _badge_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/badge/badge.jsx")},"./src/components/select/select.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return select_select}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),functions=__webpack_require__("./src/utilities/functions.js"),chevrons_up_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevrons-up-down.js"),chevron_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),search=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/search.js"),check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/check.js"),floating_ui_react=__webpack_require__("./node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),floating_ui_dom=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),floating_ui_react_dom=__webpack_require__("./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),badge=__webpack_require__("./src/components/badge/index.js"),index_browser=__webpack_require__("./node_modules/nanoid/index.browser.js");const sizeClassNames={sm:{icon:"[&>svg]:size-4",searchIcon:"[&>svg]:size-4",selectButton:"px-2.5 py-2 rounded text-sm font-medium leading-4 min-h-[2rem]",multiSelect:"pl-2 pr-2 py-1.5",displaySelected:"text-sm font-normal",dropdown:"rounded-md",dropdownItemsWrapper:"p-1.5",searchbarWrapper:"p-3 flex items-center gap-0.5",searchbar:"font-medium text-sm",searchbarIcon:"[&>svg]:size-4",label:"text-sm font-medium"},md:{icon:"[&>svg]:size-5",searchIcon:"[&>svg]:size-5",selectButton:"px-3.5 py-2.5 rounded-md text-xs font-medium leading-4 min-h-[2.5rem]",multiSelect:"pl-2 pr-2.5 py-2",displaySelected:"text-sm font-normal",dropdown:"rounded-lg",dropdownItemsWrapper:"p-2",searchbarWrapper:"p-2.5 flex items-center gap-1",searchbar:"font-medium text-sm",searchbarIcon:"[&>svg]:size-5",label:"text-sm font-medium"},lg:{icon:"[&>svg]:size-6",searchIcon:"[&>svg]:size-5",selectButton:"px-4 py-3 rounded-lg text-sm font-medium leading-5 min-h-[3rem]",multiSelect:"pl-2.5 pr-3 py-2.5",displaySelected:"text-base font-normal",dropdown:"rounded-lg",dropdownItemsWrapper:"p-2",searchbarWrapper:"p-2.5 flex items-center gap-1",searchbar:"font-medium text-sm",searchbarIcon:"[&>svg]:size-5",label:"text-base font-medium"}},disabledClassNames_selectButton="group disabled:outline-field-border-disabled [&:hover:has(:disabled)]:outline-field-border-disabled",disabledClassNames_icon="group-disabled:text-icon-disabled",disabledClassNames_text="group-disabled:text-field-color-disabled",SelectContext=(0,react.createContext)(),useSelectContext=()=>(0,react.useContext)(SelectContext);function SelectButton({children:children,icon:icon=null,placeholder:placeholder="Select an option",optionIcon:optionIcon=null,displayBy:displayBy="name",label:label,className:className}){const{sizeValue:sizeValue,getReferenceProps:getReferenceProps,getValues:getValues,selectId:selectId,refs:refs,isOpen:isOpen,multiple:multiple,combobox:combobox,setSelected:setSelected,onChange:onChange,isControlled:isControlled,disabled:disabled,by:by}=useSelectContext(),badgeSize={sm:"xs",md:"sm",lg:"md"}?.[sizeValue],getIcon=(0,react.useCallback)((()=>{if(icon)return icon;const iconClassNames="text-field-placeholder "+disabledClassNames_icon;return combobox?(0,jsx_runtime.jsx)(chevrons_up_down.A,{className:iconClassNames}):(0,jsx_runtime.jsx)(chevron_down.A,{className:iconClassNames})}),[icon]),renderSelected=(0,react.useCallback)((()=>{const selectedValue=getValues();if(!selectedValue)return null;if("function"==typeof children){const childProps={value:selectedValue,...multiple?{onClose:handleOnCloseItem}:{}};return children(childProps)}if(multiple)return selectedValue.map(((valueItem,index)=>(0,jsx_runtime.jsx)(badge.A,{icon:optionIcon,type:"rounded",size:badgeSize,onMouseDown:handleOnCloseItem(valueItem),label:"object"==typeof valueItem?valueItem[displayBy]:valueItem,closable:!0,disabled:disabled},index)));let renderValue="object"==typeof selectedValue?selectedValue[displayBy]:selectedValue;return(0,react.isValidElement)(children)&&(renderValue=children),(0,jsx_runtime.jsx)("span",{className:(0,functions.cn)("truncate",sizeClassNames[sizeValue].displaySelected,disabledClassNames_text),children:renderValue})}),[getValues]),handleOnCloseItem=value=>event=>{event?.preventDefault(),event?.stopPropagation();const selectedValues=[...getValues()??[]],selectedIndex=selectedValues.findIndex((val=>"object"==typeof val?val[by]===value[by]:val===value));-1!==selectedIndex&&(selectedValues.splice(selectedIndex,1),isControlled||setSelected(selectedValues),"function"==typeof onChange&&onChange(selectedValues))};return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-start gap-1.5 [&_*]:box-border box-border",children:[!!label&&(0,jsx_runtime.jsx)("label",{className:(0,functions.cn)(sizeClassNames[sizeValue]?.label,"text-field-label"),htmlFor:selectId,children:label}),(0,jsx_runtime.jsxs)("button",{id:selectId,ref:refs.setReference,className:(0,functions.cn)("flex items-center justify-between w-full box-border transition-colors duration-150 bg-white","outline outline-1 outline-field-border border-none",!isOpen&&"focus:ring-2 focus:ring-offset-4 focus:outline-focus-border focus:ring-focus [&:hover:not(:focus):not(:disabled)]:outline-border-strong",sizeClassNames[sizeValue].selectButton,multiple&&sizeClassNames[sizeValue].multiSelect,disabledClassNames_selectButton,className),"aria-labelledby":"select-label",tabIndex:0,disabled:disabled,...getReferenceProps(),children:[(0,jsx_runtime.jsxs)("div",{className:(0,functions.cn)("flex-1 grid items-center justify-start gap-1.5 overflow-hidden",getValues()&&"flex flex-wrap"),children:[renderSelected(),(multiple?!getValues()?.length:!getValues())&&(0,jsx_runtime.jsx)("div",{className:(0,functions.cn)("[grid-area:1/1/2/3] text-field-input px-1",sizeClassNames[sizeValue].displaySelected,disabledClassNames_text),children:placeholder})]}),(0,jsx_runtime.jsx)("div",{className:(0,functions.cn)("flex items-center [&>svg]:shrink-0",sizeClassNames[sizeValue].icon),children:getIcon()})]})]})}function SelectOptions({children:children,searchBy:searchBy="id",searchPlaceholder:searchPlaceholder="Search...",dropdownPortalRoot:dropdownPortalRoot=null,dropdownPortalId:dropdownPortalId="",className:className}){const{isOpen:isOpen,context:context,refs:refs,combobox:combobox,floatingStyles:floatingStyles,getFloatingProps:getFloatingProps,sizeValue:sizeValue,setSearchKeyword:setSearchKeyword,setActiveIndex:setActiveIndex,setSelectedIndex:setSelectedIndex,value:value,selected:selected,getValues:getValues,searchKeyword:searchKeyword,listContentRef:listContentRef,by:by}=useSelectContext(),initialSelectedValueIndex=(0,react.useMemo)((()=>{const currentValue=getValues();let indexValue=0;return currentValue&&(indexValue=react.Children.toArray(children).findIndex((child=>"object"==typeof child.props.value?child.props.value[by]===currentValue[by]:child.props.value===currentValue))),-1===indexValue?0:indexValue}),[value,selected,children]);(0,react.useLayoutEffect)((()=>{setActiveIndex(initialSelectedValueIndex),setSelectedIndex(initialSelectedValueIndex)}),[]);const renderChildren=(0,react.useMemo)((()=>react.Children.map(children,((child,index)=>{if(!(0,react.isValidElement)(child))return null;if(searchKeyword){const valueProp=child.props.value;if("object"==typeof valueProp){if(-1===valueProp[searchBy].toLowerCase().indexOf(searchKeyword.toLowerCase()))return null}else if(-1===valueProp.toLowerCase().indexOf(searchKeyword.toLowerCase()))return null}return(0,react.cloneElement)(child,{...child.props,index:index})}))),[searchKeyword,value,selected,children]),childrenCount=react.Children.count(renderChildren);return(0,react.useEffect)((()=>{listContentRef.current=[],react.Children.forEach(children,(child=>{if((0,react.isValidElement)(child)&&child.props.value){if(searchKeyword){const valueProp=child.props.value;if("object"==typeof valueProp){if(-1===valueProp[searchBy].toLowerCase().indexOf(searchKeyword.toLowerCase()))return}else if(-1===valueProp.toLowerCase().indexOf(searchKeyword.toLowerCase()))return}listContentRef.current.push(child.props.value)}}))}),[searchKeyword]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isOpen&&(0,jsx_runtime.jsx)(floating_ui_react.XF,{id:dropdownPortalId,root:dropdownPortalRoot,children:(0,jsx_runtime.jsx)(floating_ui_react.s3,{context:context,modal:!1,children:(0,jsx_runtime.jsxs)("div",{ref:refs.setFloating,className:(0,functions.cn)("box-border [&_*]:box-border w-full bg-white outline-none shadow-lg outline outline-1 outline-border-subtle",combobox&&"grid grid-cols-1 grid-rows-[auto_1fr] divide-y divide-x-0 divide-solid divide-border-subtle",sizeClassNames[sizeValue].dropdown,!combobox&&"h-auto",combobox?"overflow-hidden":"overflow-y-auto",className),style:{...floatingStyles},...getFloatingProps(),children:[combobox&&(0,jsx_runtime.jsxs)("div",{className:(0,functions.cn)(sizeClassNames[sizeValue].searchbarWrapper),children:[(0,jsx_runtime.jsx)(search.A,{className:(0,functions.cn)("text-icon-secondary shrink-0",sizeClassNames[sizeValue].searchbarIcon)}),(0,jsx_runtime.jsx)("input",{className:(0,functions.cn)("px-1 w-full placeholder:text-field-placeholder border-0 focus:outline-none focus:shadow-none",sizeClassNames[sizeValue].searchbar),type:"search",name:"keyword",placeholder:searchPlaceholder,onChange:event=>setSearchKeyword(event.target.value),autoComplete:"off"})]}),(0,jsx_runtime.jsxs)("div",{className:(0,functions.cn)("overflow-y-auto",!combobox&&"w-full h-full",sizeClassNames[sizeValue].dropdownItemsWrapper),children:[!!childrenCount&&renderChildren,!childrenCount&&(0,jsx_runtime.jsx)("div",{className:"p-2 text-center text-base font-medium text-field-placeholder",children:"No items found"})]})]})})})})}function SelectItem({value:value,selected:selected,children:children,className:className,...props}){const{sizeValue:sizeValue,getItemProps:getItemProps,onKeyDownItem:onKeyDownItem,onClickItem:onClickItem,activeIndex:activeIndex,selectedIndex:selectedIndex,updateListRef:updateListRef,getValues:getValues,by:by,multiple:multiple}=useSelectContext(),{index:indx}=props,multipleChecked=(0,react.useMemo)((()=>{if(!multiple)return!1;const currentValue=getValues();return!!currentValue&&currentValue.some((val=>"object"==typeof val?val[by]===value[by]:val===value))}),[value,getValues]),isChecked=(0,react.useMemo)((()=>"boolean"==typeof selected?selected:multiple?multipleChecked:indx===selectedIndex),[multipleChecked,selectedIndex,selected]);return(0,jsx_runtime.jsxs)("div",{className:(0,functions.cn)("w-full flex items-center justify-between text-text-primary hover:bg-button-tertiary-hover rounded-md transition-all duration-150 cursor-pointer focus:outline-none focus-within:outline-none outline-none",{sm:"py-1.5 px-2 text-sm font-normal",md:"p-2 text-sm font-normal",lg:"p-2 text-base font-normal"}[sizeValue],indx===activeIndex&&"bg-button-tertiary-hover",className),ref:node=>{updateListRef(indx,node)},role:"option",tabIndex:indx===activeIndex?0:-1,"aria-selected":isChecked&&indx===activeIndex,...getItemProps({onClick(){onClickItem(indx,value)},onKeyDown(event){onKeyDownItem(event,indx,value)}}),children:[(0,jsx_runtime.jsx)("span",{className:"w-full truncate",children:children}),isChecked&&(0,jsx_runtime.jsx)(check.A,{className:(0,functions.cn)("text-icon-on-color-disabled",{sm:"size-4",md:"size-4",lg:"size-5"}[sizeValue])})]})}SelectButton.displayName="Select.Button",SelectOptions.displayName="Select.Options",SelectItem.displayName="Select.Option";const Select=({id:id,size:sizeValue="md",value:value,defaultValue:defaultValue,onChange:onChange,by:by="id",children:children,multiple:multiple=!1,combobox:combobox=!1,disabled:disabled=!1})=>{const selectId=(0,react.useMemo)((()=>id||`select-${(0,index_browser.Ak)()}`),[id]),isControlled=(0,react.useMemo)((()=>void 0!==value),[value]),[selected,setSelected]=(0,react.useState)(defaultValue),[searchKeyword,setSearchKeyword]=(0,react.useState)(""),getValues=(0,react.useCallback)((()=>isControlled?value:selected),[isControlled,value,selected]),[isOpen,setIsOpen]=(0,react.useState)(!1),[activeIndex,setActiveIndex]=(0,react.useState)(),[selectedIndex,setSelectedIndex]=(0,react.useState)(),dropdownMaxHeightBySize={sm:combobox?256:172,md:combobox?256:216,lg:combobox?256:216},{refs:refs,floatingStyles:floatingStyles,context:context}=(0,floating_ui_react.we)({placement:"bottom-start",open:isOpen,onOpenChange:setIsOpen,whileElementsMounted:floating_ui_dom.ll,middleware:[(0,floating_ui_react_dom.cY)(5),(0,floating_ui_react_dom.UU)({padding:10}),(0,floating_ui_react_dom.Ej)({apply({rects:rects,elements:elements,availableHeight:availableHeight}){Object.assign(elements.floating.style,{maxHeight:`min(${availableHeight}px, ${dropdownMaxHeightBySize[sizeValue]}px)`,maxWidth:`${rects.reference.width}px`})},padding:10})]}),listRef=(0,react.useRef)([]),listContentRef=(0,react.useRef)([]),isTypingRef=(0,react.useRef)(!1),click=(0,floating_ui_react.kp)(context,{event:"mousedown"}),dismiss=(0,floating_ui_react.s9)(context),role=(0,floating_ui_react.It)(context,{role:"listbox"}),listNav=(0,floating_ui_react.C1)(context,{listRef:listRef,activeIndex:activeIndex,selectedIndex:selectedIndex,onNavigate:setActiveIndex,loop:!0}),typeahead=(0,floating_ui_react.lY)(context,{listRef:listContentRef,activeIndex:activeIndex,selectedIndex:selectedIndex,onMatch:isOpen?setActiveIndex:setSelectedIndex,onTypingChange(isTyping){isTypingRef.current=isTyping}}),{getReferenceProps:getReferenceProps,getFloatingProps:getFloatingProps,getItemProps:getItemProps}=(0,floating_ui_react.bv)([dismiss,role,listNav,click,...combobox?[]:[typeahead]]),handleSelect=(index,newValue)=>{if(multiple)return((index,newValue)=>{const selectedValues=[...getValues()??[]];-1===selectedValues.findIndex((selectedValue=>"object"==typeof selectedValue?selectedValue[by]===newValue[by]:selectedValue===newValue))&&(selectedValues.push(newValue),isControlled||setSelected(selectedValues),setSelectedIndex(index),refs.reference.current.focus(),setIsOpen(!1),setSearchKeyword(""),"function"==typeof onChange&&onChange(selectedValues))})(index,newValue);setSelectedIndex(index),isControlled||setSelected(newValue),refs.reference.current.focus(),setIsOpen(!1),setSearchKeyword(""),"function"==typeof onChange&&onChange(newValue)},updateListRef=(0,react.useCallback)(((index,node)=>{listRef.current[index]=node}),[]);return(0,jsx_runtime.jsx)(SelectContext.Provider,{value:{selectedIndex:selectedIndex,setSelectedIndex:setSelectedIndex,activeIndex:activeIndex,setActiveIndex:setActiveIndex,selected:selected,setSelected:setSelected,handleSelect:handleSelect,combobox:combobox,sizeValue:sizeValue,multiple:multiple,onChange:onChange,isTypingRef:isTypingRef,getItemProps:getItemProps,onClickItem:(index,newValue)=>{handleSelect(index,newValue)},onKeyDownItem:(event,index,newValue)=>{"Enter"===event.key&&(event.preventDefault(),handleSelect(index,newValue))," "!==event.key||isTypingRef.current||(event.preventDefault(),handleSelect(index,newValue))},getValues:getValues,selectId:selectId,getReferenceProps:getReferenceProps,isOpen:isOpen,value:value,updateListRef:updateListRef,refs:refs,listContentRef:listContentRef,by:by,getFloatingProps:getFloatingProps,floatingStyles:floatingStyles,context:context,searchKeyword:searchKeyword,setSearchKeyword:setSearchKeyword,disabled:disabled},children:children})};SelectButton.displayName="Select.Button",SelectOptions.displayName="Select.Options",SelectItem.displayName="Select.Item",Select.Button=SelectButton,Select.Options=SelectOptions,Select.Option=SelectItem;var select_select=Select;Select.__docgenInfo={description:"",methods:[{name:"Button",docblock:null,modifiers:["static"],params:[{name:"{\n\tchildren,\n\ticon = null, // Icon to show in the select button.\n\tplaceholder = 'Select an option', // Placeholder text.\n\toptionIcon = null, // Icon to show in the selected option.\n\tdisplayBy = 'name', // Used to display the value. Default is 'name'.\n\tlabel, // Label for the select component.\n\tclassName,\n}",optional:!1,type:null}],returns:null},{name:"Options",docblock:null,modifiers:["static"],params:[{name:"{\n\tchildren,\n\tsearchBy = 'id', // Used to identify searched value using the key. Default is 'id'.\n\tsearchPlaceholder = 'Search...', // Placeholder text for search box.\n\tdropdownPortalRoot = null, // Root element where the dropdown will be rendered.\n\tdropdownPortalId = '', // Id of the dropdown portal where the dropdown will be rendered.\n\tclassName, // Additional class name for the dropdown.\n}",optional:!1,type:null}],returns:null},{name:"Option",docblock:null,modifiers:["static"],params:[{name:"{ value, selected, children, className, ...props }",optional:!1,type:null}],returns:null}],displayName:"Select",props:{size:{defaultValue:{value:"'md'",computed:!1},required:!1},by:{defaultValue:{value:"'id'",computed:!1},required:!1},multiple:{defaultValue:{value:"false",computed:!1},required:!1},combobox:{defaultValue:{value:"false",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}}}}}]);